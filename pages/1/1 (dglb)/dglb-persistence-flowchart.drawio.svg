<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg style="cursor:pointer;" onclick="edit(this);" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="965px" height="1066px" viewBox="-0.5 -0.5 965 1066" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2024-02-13T22:33:47.724Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36&quot; etag=&quot;jo5Fhp1kCTthMCTBdA7-&quot; version=&quot;23.1.2&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram id=&quot;DrkBTo-rr2I2Q94SMTI5&quot; name=&quot;generic-alb+glb-ingress-model&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;7024&quot; dy=&quot;1658&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;0&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;1100&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;wHsYGXKNH9nU_FESV_VZ-1&quot; value=&quot;Receive DNS query for FQDN2&amp;lt;br&amp;gt;&amp;amp;nbsp;(e.g. &amp;quot;svc-x.example.com&amp;quot;)&quot; style=&quot;html=1;dashed=0;whiteSpace=wrap;shape=mxgraph.dfd.start;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;labelBackgroundColor=none;fontStyle=1;fillColor=#FFFFFF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4999&quot; y=&quot;-474&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;wHsYGXKNH9nU_FESV_VZ-3&quot; value=&quot;Extract client IP address ($srcIP) from query&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4999&quot; y=&quot;-401&quot; width=&quot;280&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;wHsYGXKNH9nU_FESV_VZ-4&quot; value=&quot;&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=0.5;entryDx=0;entryDy=20;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;entryPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;wHsYGXKNH9nU_FESV_VZ-3&quot; target=&quot;wHsYGXKNH9nU_FESV_VZ-1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0016&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4859&quot; y=&quot;-219&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-3657&quot; y=&quot;-47.25999999999999&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;wHsYGXKNH9nU_FESV_VZ-89&quot; value=&quot;&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;exitX=0.498;exitY=0.02;exitDx=0;exitDy=0;endSize=4;startSize=4;exitPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;OZFETHMaO-TAfgtPqmjW-3&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0016&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4419&quot; y=&quot;53&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4419&quot; y=&quot;-10&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;wHsYGXKNH9nU_FESV_VZ-107&quot; value=&quot;No&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.029;entryY=0.498;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-15&quot; target=&quot;OZFETHMaO-TAfgtPqmjW-3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4840&quot; y=&quot;219&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4363&quot; y=&quot;-11&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-5160&quot; y=&quot;-220&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;wHsYGXKNH9nU_FESV_VZ-116&quot; value=&quot;&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0.5;exitY=0.5;exitDx=0;exitDy=-20;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;OZFETHMaO-TAfgtPqmjW-4&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-10&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4222&quot; y=&quot;423&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4862&quot; y=&quot;503&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;OZFETHMaO-TAfgtPqmjW-3&quot; value=&quot;Is persistence &amp;lt;br&amp;gt;enabled for&amp;lt;br&amp;gt;&amp;amp;nbsp;$FQDN2 ?&quot; style=&quot;rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#6B6B6B;fontColor=#6B6B6B;rounded=1;strokeWidth=3;labelBackgroundColor=none;fontStyle=1;fontSize=12;arcSize=15;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4920&quot; y=&quot;-269.76&quot; width=&quot;120&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;OZFETHMaO-TAfgtPqmjW-4&quot; value=&quot;Send DNS response to client&quot; style=&quot;html=1;dashed=0;whiteSpace=wrap;shape=mxgraph.dfd.start;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;labelBackgroundColor=none;fillColor=#FFFFFF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-5002&quot; y=&quot;549&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-1&quot; value=&quot;Yes&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0.5;exitY=0;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-6&quot; target=&quot;OZFETHMaO-TAfgtPqmjW-3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.2214&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4630&quot; y=&quot;-179&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4861&quot; y=&quot;-170&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-4&quot; value=&quot;Yes&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0.346;exitY=1.062;exitDx=0;exitDy=0;exitPerimeter=0;curved=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-5&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-13&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4590&quot; y=&quot;119&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4766&quot; y=&quot;118.99999999999989&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-4677&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-5&quot; value=&quot;No&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.507;entryY=0.982;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;zLkwx3lyEXH6kh4R2Tp3-6&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-13&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4845&quot; y=&quot;329&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4841&quot; y=&quot;229&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-6&quot; value=&quot;Create a new record ($perec1) in persistence table with: $FQDN2 and $srcIP&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4999&quot; y=&quot;100.97000000000003&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-9&quot; value=&quot;&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=8;fontStyle=1;labelBackgroundColor=#FFFFFF;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endSize=4;startSize=4;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-14&quot; target=&quot;zLkwx3lyEXH6kh4R2Tp3-6&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4840&quot; y=&quot;484&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4840&quot; y=&quot;375&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-10&quot; value=&quot;Update &amp;quot;persistent-response&amp;quot; field in $perec1 with value of $answer&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-5000&quot; y=&quot;270&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-11&quot; value=&quot;&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=8;fontStyle=1;labelBackgroundColor=#FFFFFF;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endSize=4;startSize=4;&quot; parent=&quot;1&quot; source=&quot;zLkwx3lyEXH6kh4R2Tp3-10&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-14&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4830&quot; y=&quot;539&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4840&quot; y=&quot;620&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-12&quot; value=&quot;Is &amp;quot;&amp;lt;i&amp;gt;now&amp;quot; &amp;amp;gt;&amp;lt;/i&amp;gt;&amp;lt;br&amp;gt;the sum of &amp;lt;br&amp;gt;&amp;quot;persistence-time&amp;quot; and &amp;quot;time-last queried&amp;quot; fields from the&amp;amp;nbsp;matching &amp;lt;br&amp;gt;record?&quot; style=&quot;rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#6B6B6B;fontColor=#6B6B6B;rounded=1;strokeWidth=3;labelBackgroundColor=none;fontStyle=1;fontSize=12;arcSize=15;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4518&quot; y=&quot;118.97&quot; width=&quot;170&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-14&quot; value=&quot;Yes&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.025;entryY=0.496;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-14&quot; target=&quot;zLkwx3lyEXH6kh4R2Tp3-12&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4700&quot; y=&quot;514&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4415&quot; y=&quot;137.13&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-15&quot; value=&quot;No&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;zLkwx3lyEXH6kh4R2Tp3-17&quot; target=&quot;zLkwx3lyEXH6kh4R2Tp3-12&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.4611&quot; y=&quot;-3&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4280&quot; y=&quot;279&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4280&quot; y=&quot;339&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-4433&quot; y=&quot;290&quot; /&gt;&#10;            &lt;/Array&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-17&quot; value=&quot;Extract persistent-response field from $perec1 as $answer&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4680&quot; y=&quot;269&quot; width=&quot;200&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-20&quot; value=&quot;&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;fontSize=8;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=1;exitY=0.5;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-8&quot; target=&quot;zLkwx3lyEXH6kh4R2Tp3-17&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4494&quot; y=&quot;728&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4968&quot; y=&quot;394&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-4530&quot; y=&quot;350&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLkwx3lyEXH6kh4R2Tp3-21&quot; value=&quot;&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-10&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-11&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-3890&quot; y=&quot;663&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-3494&quot; y=&quot;568&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-4700&quot; y=&quot;490&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-3&quot; value=&quot;Extract $FQDN2 from query&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-5000&quot; y=&quot;-337&quot; width=&quot;280&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-4&quot; value=&quot;&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0.5;exitY=0;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-3&quot; target=&quot;wHsYGXKNH9nU_FESV_VZ-3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0016&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4649&quot; y=&quot;-148&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4649&quot; y=&quot;-389&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-5&quot; value=&quot;Retrieve matching record from previous step as $perec1&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4755&quot; y=&quot;-199.76&quot; width=&quot;225&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-6&quot; value=&quot;Extract persistence-timeout value (as &amp;quot;$ptimer&amp;quot;)&amp;amp;nbsp;for $FQDN&amp;amp;nbsp;&amp;amp;nbsp;from GLB configuration&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-5000&quot; y=&quot;-119&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-7&quot; value=&quot;&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;fontSize=8;fontStyle=1;labelBackgroundColor=#FFFFFF;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endSize=4;startSize=4;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-13&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-6&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4301&quot; y=&quot;-180.0000000000001&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4420&quot; y=&quot;-120&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-8&quot; value=&quot;Update &amp;quot;time-last-queried&amp;quot; field in $perec1 to &amp;lt;i&amp;gt;now.&amp;lt;/i&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4840&quot; y=&quot;331&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-10&quot; value=&quot;Add $answer to DNS response message&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-5002&quot; y=&quot;471&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-11&quot; value=&quot;Update &amp;quot;persistence timeout&amp;quot; field in $perec1 to $ptimer&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4840&quot; y=&quot;401&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-12&quot; value=&quot;&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=8;fontStyle=1;labelBackgroundColor=#FFFFFF;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endSize=4;startSize=4;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-11&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-8&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4485&quot; y=&quot;357&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4486&quot; y=&quot;257&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-13&quot; value=&quot;Does &amp;lt;br&amp;gt;persistence&amp;amp;nbsp;table have &amp;lt;br&amp;gt;an&amp;amp;nbsp;existing&amp;amp;nbsp;entry with:&amp;lt;br&amp;gt;&amp;amp;nbsp;$FQDN2&amp;amp;nbsp;&amp;amp;nbsp;and&amp;lt;br&amp;gt;&amp;amp;nbsp; $srcIP?&quot; style=&quot;rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#6B6B6B;fontColor=#6B6B6B;rounded=1;strokeWidth=3;labelBackgroundColor=none;fontStyle=1;fontSize=12;arcSize=15;align=center;verticalAlign=middle;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4960&quot; y=&quot;-51&quot; width=&quot;200&quot; height=&quot;101&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-14&quot; value=&quot;Query GLB service to obtain DNS response data&amp;amp;nbsp; (as $answer) for $FQDN2&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;strokeWidth=3;strokeColor=#6B6B6B;rounded=1;fontStyle=1;fontColor=#6B6B6B;fillColor=#FFFFFF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4999&quot; y=&quot;170.25&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-15&quot; value=&quot;Query GLB service to obtain DNS response data&amp;amp;nbsp; (as $answer) for $FQDN2&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;strokeWidth=3;strokeColor=#6B6B6B;rounded=1;fontStyle=1;fontColor=#6B6B6B;fillColor=#FFFFFF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-5300&quot; y=&quot;160&quot; width=&quot;280&quot; height=&quot;49.25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-16&quot; value=&quot;&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-10&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-15&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4370&quot; y=&quot;960&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4041&quot; y=&quot;910&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-5160&quot; y=&quot;491&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;nH-cctOlrGX-DdVPt_4V-17&quot; value=&quot;&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=8;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0;exitY=0.5;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;nH-cctOlrGX-DdVPt_4V-8&quot; target=&quot;zLkwx3lyEXH6kh4R2Tp3-10&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4201&quot; y=&quot;809&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4484&quot; y=&quot;640&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-4860&quot; y=&quot;350&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;6hehHIdpPYMKxMozLZ0t-1&quot; value=&quot;Yes&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0.5;exitY=0;exitDx=0;exitDy=0;curved=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;zLkwx3lyEXH6kh4R2Tp3-12&quot; target=&quot;6hehHIdpPYMKxMozLZ0t-3&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4386&quot; y=&quot;-60&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4466&quot; y=&quot;-60&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;6hehHIdpPYMKxMozLZ0t-3&quot; value=&quot;Is &amp;quot;persistent-&amp;lt;br&amp;gt;response&amp;quot; value in &amp;lt;br&amp;gt;$perec1 present in a &amp;lt;br&amp;gt;&amp;quot;healthy&amp;quot; entry in nominal &amp;lt;br&amp;gt;GLBp-member-&amp;lt;br&amp;gt;health table?&quot; style=&quot;rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#6B6B6B;fontColor=#6B6B6B;rounded=1;strokeWidth=3;labelBackgroundColor=none;fontStyle=1;fontSize=12;arcSize=15;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4528&quot; y=&quot;-145&quot; width=&quot;190&quot; height=&quot;166&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;6hehHIdpPYMKxMozLZ0t-4&quot; value=&quot;&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;fontSize=8;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;curved=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;6hehHIdpPYMKxMozLZ0t-3&quot; target=&quot;nH-cctOlrGX-DdVPt_4V-5&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4530&quot; y=&quot;64&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4530&quot; y=&quot;30&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-4433&quot; y=&quot;-180&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;6hehHIdpPYMKxMozLZ0t-5&quot; value=&quot;No&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=0.75;exitY=0;exitDx=0;exitDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;6hehHIdpPYMKxMozLZ0t-6&quot; target=&quot;6hehHIdpPYMKxMozLZ0t-3&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4369&quot; y=&quot;-107&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4271&quot; y=&quot;-170&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-4614&quot; y=&quot;-62&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;6hehHIdpPYMKxMozLZ0t-6&quot; value=&quot;Delete $perec1 from persistence table&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;strokeColor=#6B6B6B;strokeWidth=3;fontColor=#6B6B6B;align=center;fillColor=#FFFFFF;labelBackgroundColor=none;fontStyle=1&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4742&quot; y=&quot;34&quot; width=&quot;170&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;6hehHIdpPYMKxMozLZ0t-7&quot; value=&quot;No&quot; style=&quot;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6B6B6B;fontColor=#6B6B6B;startArrow=classic;startFill=1;strokeWidth=3;endArrow=none;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=13;fontStyle=1;labelBackgroundColor=#FFFFFF;endSize=4;startSize=4;exitX=1;exitY=0.5;exitDx=0;exitDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;zLkwx3lyEXH6kh4R2Tp3-6&quot; target=&quot;6hehHIdpPYMKxMozLZ0t-6&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.3394&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-4640&quot; y=&quot;-80&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-4465&quot; y=&quot;-79&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-4657&quot; y=&quot;121&quot; /&gt;&#10;            &lt;/Array&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;">

<script type="text/javascript"><![CDATA[
		function edit(image)
		{
			// Uses first part of path as repo name.
			// Change this according to your setup.
			var tokens = window.location.pathname.split('/');

			if (tokens.length < 2)
			{
				alert('Invalid URL');

				return;
			}

			var org = window.location.hostname.split('.')[0];
			var repo = tokens[]]><![CDATA[1];
			var path = tokens.slice(2).join('/');
			var ref = 'main';

			var wnd = null;

			var save = function()
			{
				wnd.postMessage(JSON.stringify(
				{
					action: 'spinner',
					show: 0
				}), '*');

				var username = prompt('Username');

				if (username == null || usernam]]><![CDATA[e.length == 0)
				{
					return;
				}

				var password = prompt('Password');

				if (password == null || password.length == 0)
				{
					return;
				}

				var msg = prompt('Commit Message', 'Update ' + tokens[tokens.length - 1]);

				if (msg == null)
				{
					return;
				}
]]><![CDATA[
				var url = 'https://api.github.com/repos/' + org + '/' + repo +
					'/contents/' + path + '?ref=' + encodeURIComponent(ref);

				getSha(url, username, password, function(sha)
				{
					writeFile(url, username, password, sha, msg, function(req)
					{
						var success = req.status]]><![CDATA[ == 200 || req.status == 201;

						if (!success)
						{
							var obj = JSON.parse(req.responseText);

							alert((obj != null) ? obj.message : 'Error');
						}
						else
						{
							wnd.close();

							// Forces udpate of cached image
							window.setTimeout(functio]]><![CDATA[n()
							{
								var newImage = new Image();
								newImage.src = window.location.protocol + '//' + window.location.hostname +
									window.location.pathname + '?' + new Date().getTime();
							}, 3000);
						}
					});
				});
			};

			var getSha = function(url, username, password, callback)
			{
				xhr('GET', url, null, username, password, funct]]><![CDATA[ion(req)
				{
					if (req.status == 200)
					{
						var obj = JSON.parse(req.responseText);

						callback((obj != null) ? obj.sha : null);
					}
					else
					{
						callback(null);
					}
				});
			};

			var writeFile = function(url, username, password, sha, msg, callback)
			{
]]><![CDATA[				var entity =
				{
					path: path,
					message: msg,
					content: btoa('<?xml version="1.0" encoding="UTF-8"?>\n' +
						'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n' +
						document.documentElement.outerHTML)
				};

				if (sh]]><![CDATA[a != null)
				{
					entity.sha = sha;
				}

				xhr('PUT', url, JSON.stringify(entity), username, password, function(req)
				{
					if (req.readyState == 4)
					{
						callback(req);
					}
				});
			};

			var xhr = function xhr(verb, url, data, username, pass, callback)
			{
				var re]]><![CDATA[q = new XMLHttpRequest();
				req.onreadystatechange = function()
				{
					if (req.readyState == 4)
					{
						callback(req);
					}
				};

				req.open(verb, url, true);

				req.setRequestHeader('Authorization', 'Basic ' +
					btoa(username + ':' + pass));

				req.send(data);
			};

			var receive = function(evt)
			{
				if (evt.data.length > 0)
				{
					var msg = JSON.parse(evt.data);

					if (msg.event == 'init')
					{
						wnd.postMessage(JSON.stringify({action: 'load', xml: image.outerHTML}), '*');
					}
					else if (msg.event == 'export')
					{
						var temp = new Image();

						temp.onload = function()
						{
							image.setAttribute('xlink:href', msg.data);

							image.setAttribute('width', temp.width + 'px');
							image.setAttribute('height', temp.height + 'px');
							image.ownerSVGElement.setAttribute('width', temp.width + 'px');
							image.ownerSVGElement.setAttribute('height', temp.height + 'px');

							save();
						};

						temp.onerror = function(err)
						{
							alert('Error ' + err);
						}

						temp.src = msg.data;
					}
					else if (msg.event == 'save')
					{
						wnd.postMessage(JSON.stringify({action: 'export', format: 'png', spinKey: 'saving'}), '*');
						image.ownerSVGElement.setAttribute('content', msg.xml);
					}
					else if (msg.event == 'exit')
					{
						wnd.close();
					}
				}
			};

			window.addEventListener('message', receive);
			wnd = window.open('https://embed.diagrams.net/?embed=1&ui=atlas&spin=1&proto=json');
		}
	  ]]></script>


<defs/><g><path d="M 562 1 C 573.05 1 582 9.95 582 21 C 582 26.3 579.89 31.39 576.14 35.14 C 572.39 38.89 567.3 41 562 41 L 322 41 C 310.95 41 302 32.05 302 21 C 302 9.95 310.95 1 322 1 Z" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 21px; margin-left: 303px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Receive DNS query for FQDN2<br /> (e.g. "svc-x.example.com")</div></div></div></foreignObject><text x="442" y="25" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Receive DNS query for FQDN2...</text></switch></g><rect x="302" y="74" width="280" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 89px; margin-left: 303px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Extract client IP address ($srcIP) from query</div></div></div></foreignObject><text x="442" y="93" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Extract client IP address ($srcIP) from query</text></switch></g><path d="M 442 65.4 L 442 41" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 442 70.65 L 438.5 63.65 L 442 65.4 L 445.5 63.65 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 440.81 198.64 L 441 168" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 440.78 203.89 L 437.32 196.86 L 440.81 198.64 L 444.32 196.91 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 141 626.4 L 141 265 Q 141 255 151 255 L 384.48 255.04" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 141 631.65 L 137.5 624.65 L 141 626.4 L 144.5 624.65 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 323px; margin-left: 141px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">No</div></div></div></foreignObject><text x="141" y="327" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">No</text></switch></g><path d="M 439 1015.4 L 439 986" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 439 1020.65 L 435.5 1013.65 L 439 1015.4 L 442.5 1013.65 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 411 230.24 L 435.24 210.04 Q 441 205.24 446.76 210.04 L 495.24 250.44 Q 501 255.24 495.24 260.04 L 446.76 300.44 Q 441 305.24 435.24 300.44 L 386.76 260.04 Q 381 255.24 386.76 250.44 Z" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 255px; margin-left: 382px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Is persistence <br />enabled for<br /> $FQDN2 ?</div></div></div></foreignObject><text x="441" y="259" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Is persistence...</text></switch></g><path d="M 559 1024 C 570.05 1024 579 1032.95 579 1044 C 579 1049.3 576.89 1054.39 573.14 1058.14 C 569.39 1061.89 564.3 1064 559 1064 L 319 1064 C 307.95 1064 299 1055.05 299 1044 C 299 1032.95 307.95 1024 319 1024 Z" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1044px; margin-left: 300px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Send DNS response to client</div></div></div></foreignObject><text x="439" y="1048" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle">Send DNS response to client</text></switch></g><path d="M 441 347.4 L 441 305.24" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 441 352.65 L 437.5 345.65 L 441 347.4 L 444.5 345.65 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 325px; margin-left: 441px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">Yes</div></div></div></foreignObject><text x="441" y="329" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">Yes</text></switch></g><path d="M 623.86 326.32 L 623.99 465 Q 624 475 614 474.94 L 541 474.5" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 623.85 321.07 L 627.36 328.07 L 623.86 326.32 L 620.36 328.08 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 438px; margin-left: 624px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">Yes</div></div></div></foreignObject><text x="624" y="442" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">Yes</text></switch></g><path d="M 442.07 567.37 L 442.4 523.18" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 442.03 572.62 L 438.58 565.59 L 442.07 567.37 L 445.58 565.64 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 549px; margin-left: 442px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">No</div></div></div></foreignObject><text x="442" y="553" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">No</text></switch></g><rect x="302" y="575.97" width="280" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 596px; margin-left: 303px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Create a new record ($perec1) in persistence table with: $FQDN2 and $srcIP</div></div></div></foreignObject><text x="442" y="600" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Create a new record ($perec1) in persistence t...</text></switch></g><path d="M 442 636.65 L 442 615.97" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 442 641.9 L 438.5 634.9 L 442 636.65 L 445.5 634.9 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><rect x="301" y="745" width="280" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 765px; margin-left: 302px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Update "persistent-response" field in $perec1 with value of $answer</div></div></div></foreignObject><text x="441" y="769" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Update "persistent-response" field in $perec1...</text></switch></g><path d="M 441.14 736.4 L 442 685.25" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 441.06 741.65 L 437.67 734.59 L 441.14 736.4 L 444.67 734.71 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 825.5 628.97 L 862.21 598.74 Q 868 593.97 873.79 598.74 L 947.21 659.2 Q 953 663.97 947.21 668.74 L 873.79 729.2 Q 868 733.97 862.21 729.2 L 788.79 668.74 Q 783 663.97 788.79 659.2 Z" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 664px; margin-left: 784px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Is "<i>now" &gt;</i><br />the sum of <br />"persistence-time" and "time-last queried" fields from the matching <br />record?</div></div></div></foreignObject><text x="868" y="668" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Is "now" &gt;...</text></switch></g><path d="M 590.6 665.17 L 787.25 663.41" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 585.35 665.22 L 592.32 661.66 L 590.6 665.17 L 592.38 668.66 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 664px; margin-left: 684px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">Yes</div></div></div></foreignObject><text x="684" y="668" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">Yes</text></switch></g><path d="M 829.6 764.18 L 858 764.79 Q 868 765 868 755 L 868 733.97" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 824.35 764.07 L 831.43 760.72 L 829.6 764.18 L 831.28 767.72 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 755px; margin-left: 871px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">No</div></div></div></foreignObject><text x="871" y="759" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">No</text></switch></g><rect x="621" y="744" width="200" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 764px; margin-left: 622px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Extract persistent-response field from $perec1 as $answer</div></div></div></foreignObject><text x="721" y="768" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Extract persistent-response field...</text></switch></g><path d="M 749.6 825.71 L 761.01 825.33 Q 771 825 771 815 L 771 784" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 744.35 825.89 L 751.23 822.16 L 749.6 825.71 L 751.46 829.15 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 587.6 965.61 L 594.3 965.3 Q 601 965 601 955 L 601 916" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 582.35 965.85 L 589.18 962.03 L 587.6 965.61 L 589.5 969.03 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><rect x="301" y="138" width="280" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 153px; margin-left: 302px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Extract $FQDN2 from query</div></div></div></foreignObject><text x="441" y="157" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Extract $FQDN2 from query</text></switch></g><path d="M 441.25 129.4 L 442 104" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 441.1 134.65 L 437.81 127.55 L 441.25 129.4 L 444.8 127.75 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><rect x="546" y="275.24" width="225" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 223px; height: 1px; padding-top: 295px; margin-left: 547px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Retrieve matching record from previous step as $perec1</div></div></div></foreignObject><text x="659" y="299" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Retrieve matching record from previou...</text></switch></g><rect x="301" y="356" width="280" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 376px; margin-left: 302px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Extract persistence-timeout value (as "$ptimer") for $FQDN  from GLB configuration</div></div></div></foreignObject><text x="441" y="380" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Extract persistence-timeout value (as "$ptimer...</text></switch></g><path d="M 441 415.4 L 441 396" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 441 420.65 L 437.5 413.65 L 441 415.4 L 444.5 413.65 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><rect x="461" y="806" width="280" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 826px; margin-left: 462px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Update "time-last-queried" field in $perec1 to <i>now.</i></div></div></div></foreignObject><text x="601" y="830" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Update "time-last-queried" field in $perec1 to...</text></switch></g><rect x="299" y="946" width="280" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 966px; margin-left: 300px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Add $answer to DNS response message</div></div></div></foreignObject><text x="439" y="970" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Add $answer to DNS response message</text></switch></g><rect x="461" y="876" width="280" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 896px; margin-left: 462px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Update "persistence timeout" field in $perec1 to $ptimer</div></div></div></foreignObject><text x="601" y="900" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Update "persistence timeout" field in $perec1...</text></switch></g><path d="M 601 867.4 L 601 846" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 601 872.65 L 597.5 865.65 L 601 867.4 L 604.5 865.65 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 391 449.25 L 434.31 427.38 Q 441 424 447.69 427.38 L 534.31 471.12 Q 541 474.5 534.31 477.88 L 447.69 521.62 Q 441 525 434.31 521.62 L 347.69 477.88 Q 341 474.5 347.69 471.12 Z" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 474px; margin-left: 342px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Does <br />persistence table have <br />an existing entry with:<br /> $FQDN2  and<br />  $srcIP?</div></div></div></foreignObject><text x="441" y="478" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Does...</text></switch></g><rect x="302" y="645.25" width="280" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><path d="M 330 645.25 L 330 685.25 M 554 645.25 L 554 685.25" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 222px; height: 1px; padding-top: 665px; margin-left: 331px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Query GLB service to obtain DNS response data  (as $answer) for $FQDN2</div></div></div></foreignObject><text x="442" y="669" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Query GLB service to obtain DNS respo...</text></switch></g><rect x="1" y="635" width="280" height="49.25" rx="7.39" ry="7.39" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><path d="M 29 635 L 29 684.25 M 253 635 L 253 684.25" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 222px; height: 1px; padding-top: 660px; margin-left: 30px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Query GLB service to obtain DNS response data  (as $answer) for $FQDN2</div></div></div></foreignObject><text x="141" y="663" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Query GLB service to obtain DNS respo...</text></switch></g><path d="M 290.4 966 L 151 966 Q 141 966 141 956 L 141 684.25" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 295.65 966 L 288.65 969.5 L 290.4 966 L 288.65 962.5 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 452.41 825.57 L 446.7 825.29 Q 441 825 441 815 L 441 785" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 457.65 825.83 L 450.48 828.98 L 452.41 825.57 L 450.83 821.99 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 868 585.37 L 868 496" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 868 590.62 L 864.5 583.62 L 868 585.37 L 871.5 583.62 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 545px; margin-left: 868px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">Yes</div></div></div></foreignObject><text x="868" y="549" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">Yes</text></switch></g><path d="M 820.5 371.5 L 862.35 334.93 Q 868 330 873.65 334.93 L 957.35 408.07 Q 963 413 957.35 417.93 L 873.65 491.07 Q 868 496 862.35 491.07 L 778.65 417.93 Q 773 413 778.65 408.07 Z" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 413px; margin-left: 774px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Is "persistent-<br />response" value in <br />$perec1 present in a <br />"healthy" entry in nominal <br />GLBp-member-<br />health table?</div></div></div></foreignObject><text x="868" y="417" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Is "persistent-...</text></switch></g><path d="M 868 321.4 L 868 305 Q 868 295 858 295.02 L 771 295.24" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 868 326.65 L 864.5 319.65 L 868 321.4 L 871.5 319.65 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 686.54 500.4 L 686.95 423 Q 687 413 697 413 L 773 413" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 686.52 505.65 L 683.05 498.63 L 686.54 500.4 L 690.05 498.66 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 418px; margin-left: 687px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">No</div></div></div></foreignObject><text x="687" y="422" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">No</text></switch></g><rect x="559" y="509" width="170" height="40" rx="6" ry="6" fill="#ffffff" stroke="#6b6b6b" stroke-width="3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 529px; margin-left: 560px;"><div data-drawio-colors="color: #6B6B6B; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Delete $perec1 from persistence table</div></div></div></foreignObject><text x="644" y="533" fill="#6B6B6B" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Delete $perec1 from persiste...</text></switch></g><path d="M 590.6 595.97 L 634 596 Q 644 596 644 586 L 644 549" fill="none" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 585.35 595.97 L 592.36 592.48 L 590.6 595.97 L 592.35 599.48 Z" fill="#6b6b6b" stroke="#6b6b6b" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 585px; margin-left: 644px;"><div data-drawio-colors="color: #6B6B6B; background-color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(107, 107, 107); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">No</div></div></div></foreignObject><text x="644" y="589" fill="#6B6B6B" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">No</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>