---
l1idx: 1
l2idx: 3
l3idx: 4
l4idx: 2
title: "Statically Configuring Nodes' Salient Properties"
permalink: 1_3_4_2.html
summary: "Nodes participating in the BGP reference implementation of this framework must be statically configured in a manner that encodes the SPZ, PAG, and SPN values of the node in a manner that is accessible to the node's BGP policy logic."
---

### What Data is Statically Configured?

Each node/router/BGP-speaker in this reference implementation will have administratively defined values for each of the following:

> ***OSPZ***: The value (an integer between 0 and 100) of the Symmetric Perimeter Zone (SPZ) of which the node/router/BGP-speaker is a member

> **OPAG***:  The value (an integer between 0 and 100) of the Path Affinity Group (PAG) of which the node/router/BGP-speaker is a member

> **SPN***: The value (a boolean type, expressed as 0 or 1) of the node/router's Symmetric Perimeter Node (SPN) property.  "0" if the node is *not* an SPN, and "1" if the node "is" an SPN.

### How is the Data Encoded?

In this reference implemenation, we will use autonomous system number 64496 for the Global Administrator Field in the BGP Large Community Attributes.

#### Symmetric Perimeter Zone (SPZ)

As previously described, each node/router will have an administratively assigned SPZ value.  We will record that value within the node/router's configuration using the "large-community-list" feature, so as expose the value to the router's BGP policy configuration mechanism.

There are two distinct IP prefix lists ("...**O**SPZ...", "...**P**SPZ...") defined, both evaluating against the same SPZ value.  This is because we will need to differentiate BGP policy behavior later based on whether the router is *originating* or *propagating* a route. This is demonstrated in the following configuration template/snippet:

> ip large-community-list OSPZ permit 64496:12288**1**:[my-SPZid]
> ip large-community-list PSPZ permit 64496:12288**5**:[my-SPZid]

#### Path Affinity Group (PAG)

As previously described, each node/router will have an administratively assigned PAG value.  We will record that value within the node/router's configuration using the "large-community-list" feature, so as expose the value to the router's BGP policy configuration mechanism.   There are two distinct IP prefix lists ("...**O**PAG...", "...**P**PAG...") defined, both evaluating against the same PAG value.  This is because we will need to differentiate BGP policy behavior later based on whether the router is *originating* or *propagating* a route. This is demonstrated in the following configuration template/snippet:

> ip large-community-list OPAG permit 64496:12288**2**:[my-SPZid]
> ip large-community-list PPAG permit 64496:12288**4**:[my-SPZid]

#### Symmetric Perimeter Node (SPN)

As previously described, some nodes on the network will execute services that cause traffic to be discarded if only *one* of a set of source/destination-inverted flow-pairs between two endpoints traverses the node  (as with network firewalls.)  Nodes that do execute such services are assigned an SPN value of "1" (true), while nodes that do not execute such services are assigned an SPN value of "0" (false).  The routing policy framework that we are implementing here executes different logic based on whether the router propagating the route is an SPN or is not an SPN, so we will need to encode that in a manner accessible to the routing-policy engine.

> ip large-community-list am-I-SPN permit 64496:12288**6**:[$PSPN]

