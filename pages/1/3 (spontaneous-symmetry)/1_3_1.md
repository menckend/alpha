---
l1idx: 1
l2idx: 3
l3idx: 1
title: "Design Challenge"
permalink: 1_3_1.html
summary: "A narrative and graphical description of how/when/where this challenge emerges."
---

## Scenario

An enterprise has its IT workload hosted at two separate locations.  It segregates its workload networks into three distinct network-security zones, and requires that any traffic moving between zones traverse firewalls (where network-security policy is enforced.)  The enterprise doesn't want a given flow to traverse multiple instances of firewalls on the same zone perimeters, or to leave traverse sites other than those in which the source and destination of the flow are located.

The enterprise works through multiple design iterations, getting incrementally closer to optimal pathing.  However, the fundamental problem remains that relying on routers' native (hash-of-header based) mechanisms for path selection across ECMP links results in inconsistent forward/reverse path selections.

[![image](./spont-sym-abstract-1.drawio.svg){:class="img-fluid"}](./pages/1/3%20(spontaneous-symmetry)/spont-sym-abstract-1.drawio.svg){:target="_blank"}
