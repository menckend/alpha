---
l1idx: 1
l2idx: 3
title: "Assuring Symmetric Paths through Stateful Services"
permalink: 1_3.html
summary: "A routing Policy Framework For Multi-homed, multi-site topologies with multiple distributed network-security zones."
---

This article establishes and demonstrates a routing policy framework that allows an enterprise to safely deploy networks in which equal-cost paths are present that include *different* instances of stateful services.

The simplest case of the problem beind solved for is:
  - You have two different network-security zones (A, and B) on your networks
  - You have two different sites (1, and 2) in your network
  - You have workload attached to both zones A and B at each of the two sites
  - You want all traffic between zones A and B to traverse a firewall
  - You want all traffic that stays within zone A or stays within zone B to *not* traverse any firewalls
  - You don't want traffic with source and destination at the same site to get tromboned through the other site

Incremental design iterations trying to fulfill all of those objectives leave you with:
  - A firewall at site 1 and a firewall at site 2
  - Security-zones A and B extended across the WAN between sites 1 and 2
  - Multiple equal cost paths for various permutions of inter/extra site/zone flows
     - With various kludges in place to manually/explicitly forth symmetric paths for those flows
