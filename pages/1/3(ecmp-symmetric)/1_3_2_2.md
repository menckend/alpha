---
l1idx: 1
l2idx: 3
l3idx: 2
l4idx: 2
title: "Network Security Zones"
permalink: 1_3_2_2.html
summary: "In which we *almost* lose track of what we're talking about"
---

A widely adopted working-definition of "network security zone" is a group of nodes on a network that are able to communicate without traversing a secured perimeter.  As discussed in the preamble, that "securd perimeter" is typically a network firewall, and this *matters* because network firewalls enforce statefulness in the traffic that they forward.  

If two nodes ("A" and "B") on the network in different network security zones attempt to establish a TCP session with each other, network firewalls that are in-path for that flow *will* validate the state data of each TCP segment and refuse to forward traffic for which it perceives the TCP state to be invalid.  Validating state in this manner requires that the validator see *all* messages in the TCP session  (B->A messages and B->A traffic).

If the paths that the network selects for B->A flows and A->B flows don't include the *same* set of network firewalls, the aforementioned connections between them will fail.

### The Chicken or the Egg

Before we abstract and generalize *too* much, it's important to consider whether we consider the "nature" of a network security zone.  

From an *information-security* perspective, the essence of a network security zone is the mitigation and partitioning of risk at specific (secured perimeter) nodes.  From this persepctive, it is natural/reasonable to consider a network security zone's defining element as the shared characteristics of the (non-perimeter) nodes that are located "in" that zone.

From a *networking* perspective, the essence of a network security zone is the path-selection requirements that it introduces.

### Generalizing to "perimeter-node symmetry ingress/egress zones"

Put as directly as possible, the network design requirement introduced by the presence of state-enforcing nodes is:

> For any *selected* path starting at node "A" and ending at node "B" that includes a "state-enforcing" node ("C"), the *selected* path starting at node "B" and ending at node "A" must *also* include node "C"

Note that the requirement is not for *fully* symmetric bidirectional paths between nodes A and B, just that if a state-enforcing node "C" is present in the A->B path, that node "C" be present in the B->A path.

We previously described the "security-zone" property of nodes as a network security zone as any nodes as a label/value between which there is a path that includes *no* state-enforcing nodes.  We can also describe it as a group of nodes whose path to nodes *not* in the same group *must* traverse a state-enforcing node.

In the preceding section, we explained how and why network firewalls introduce these path selection requirements.  They are not the *only* type of devices that perform stateful enforcement though, and there are other use-cases beyond state enforcement that present the same requirement.

The terms "network security zone" and "state-enforcing" are overly specific for the behavior we're modeling, so we will adapt some broader terminology to replace them.

Rather than "network security zones", we will refer to "symmetric perimeter zones" ("SP zones" or "SPZs"), and we will likewise re-name the associated node property (which will remain a number expressed in decimal/octet notation.)

We will also rename the nodes'  "statefulness" property to "symmetric-perimeter node" (SPN), which will remain a boolean value.

Before we do all of that abstraction though, we need to examine two aspects of network security zones that are directly related to each other, and that we will need be sure that our graph-oriented model captures accurately.
